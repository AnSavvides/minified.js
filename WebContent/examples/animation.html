<html>
	<head><title>Minified.js Animation Example</title>
	
	<style type="text/css">
		body {font-family: sans-serif;}
	</style> 
	<script type="text/javascript" src="../minified-src.js"></script>
	<script type="text/javascript">
	var POSITIONS = [{$top: '10px', $left: '10px'}, {$top: '10px', $left: '280px'}, {$top: '280px', $left: '280px'}, {$top: '280px', $left: '10px'}];
	var COLORS = ['#f00', '#00f', '#0f0', '#0ff'];
	var BOXES = [{id: '#box1', pos: 0, colorPos: 0}, {id: '#box2', pos: 2, colorPos: 2}];
	
	function disableButtons(disabled) {
		$('button').set('disabled', true);
	}
	function enableButtons(disabled) {
		$('button').set('disabled', false);
	}
	
	MINI.ready(function() {
		$('#moveButton').addEvent('click', function() {
			disableButtons();			
			for (var i = 0; i < BOXES.length; i++) 
				$(BOXES[i].id).animate(POSITIONS[(++BOXES[i].pos)%POSITIONS.length], parseFloat(EL('#durationField').value), parseFloat(EL('#linearityField').value), enableButtons);
		});

		$('#colorButton').addEvent('click', function() {
			disableButtons();	
			for (var i = 0; i < BOXES.length-1; i++) 
				$(BOXES[i].id).animate({$background_color: COLORS[(++BOXES[i].colorPos)%COLORS.length]}, parseFloat(EL('#durationField').value), parseFloat(EL('#linearityField').value), enableButtons);
		});
	});
	</script>
	
	</head>
	<body>
		Duration (ms): <input id='durationField' value='1500'/><br/>
		Smoothness (0=very smooth, 1=linear): <input id='linearityField' value='0.25'/><br/>
		<button id="moveButton">Move!</button>
		<button id="colorButton">Change Color!</button>
		<div style="margin-top: 2em; border: 1px solid black; position: relative; width: 400px; height: 400px;">
			<div id="box1" style="background-color: #f00; position: absolute; top: 10px; left: 10px; width: 100px; height: 100px;"></div>
			<div id="box2" style="background-color: #0f0; position: absolute; top: 280px; left: 280px; width: 100px; height: 100px;"></div>
		</div>
	</body>
</html>